{"ast":null,"code":"var _jsxFileName = \"C:\\\\GPT-3\\\\GPT-3-Prototype\\\\client\\\\src\\\\components\\\\pages\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useContext, useState } from \"react\";\nimport useSWR from \"swr\";\nimport Fuse from \"fuse.js\";\nimport axios from \"axios\";\nimport { Container, Col, Row, InputGroup, FormControl, Pagination, Form, Button, Spinner, Card, Modal, Tooltip, OverlayTrigger, Image } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst fuseOptions = {\n  shouldSort: true,\n  threshold: 0.3,\n  keys: [\"titel\", \"orgName\", \"lawTypeOrg\"],\n  maxPatternLength: 30,\n  location: 0,\n  distance: 200\n};\nconst x = axios.get(\"/api/donations/allCards\").then(res => console.log(res.data));\nconsole.log(x);\n\nconst Home = () => {\n  _s();\n\n  const {\n    data: donations\n  } = useSWR(\"/api/donations/allCards\", {\n    revalidateOnFocus: false\n  });\n  useEffect(() => {\n    console.log(donations);\n  }, [donations]);\n  console.log(donations);\n  const [displayDonations, setDisplayDonations] = useState([]);\n  const [filteredDonations, setFilteredDonations] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [pageSize, setPageSize] = useState(8);\n  const [page, setPage] = useState(0); //const { data: laws } = useSWR(\"/api/laws/allMerged\", {\n  //  revalidateOnFocus: false,\n  //});\n  //useEffect(() => {\n  //    if (dummySet) {\n  //      setFilteredDonations(\n  //        getFilteredAndSortedLaws(newsfeedFilter, sorterNewsfeed, laws)\n  //      );\n  //    }\n  //}, [laws, sorterNewsfeed, newsfeedFilter]);\n  // Set correct laws to display when either laws, fitler or search changes\n\n  useEffect(() => {\n    if (search !== \"\") {\n      const fuse = new Fuse(filteredDonations, fuseOptions);\n      setDisplayDonations(fuse.search(search));\n      setPage(0);\n    } else {\n      setDisplayDonations(filteredDonations);\n      setPage(0);\n    }\n  }, [filteredDonations, search\n  /*sorterNewsfeed*/\n  ]);\n\n  const firstPage = () => {\n    setPage(0);\n  };\n\n  const prevPage = () => {\n    if (0 < page) {\n      setPage(page - 1);\n    }\n  };\n\n  const nextPage = () => {\n    if (displayDonations.length - pageSize > page * pageSize) {\n      setPage(page + 1);\n    }\n  };\n\n  const lastPage = () => {\n    setPage(Math.ceil(displayDonations.length / pageSize) - 1);\n  };\n\n  const changePageSize = e => {\n    e.preventDefault();\n    setPage(0);\n    setPageSize(parseInt(e.target.pageSize.value));\n  };\n\n  const settingFilter = () => {\n    return;\n  };\n\n  const [showFeed, setShowFeed] = useState(false);\n\n  const handleCloseFeed = () => setShowFeed(false);\n\n  const handleShowFeed = () => setShowFeed(true);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      className: \"text-center pt-3\"\n      /*style={{backgroundColor: \"#e4d6ff\"}}*/\n\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(Home, \"Mq6tPiUwSwPbdouIwVKh2H83KCA=\", false, function () {\n  return [useSWR];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/GPT-3/GPT-3-Prototype/client/src/components/pages/Home.js"],"names":["React","useEffect","useContext","useState","useSWR","Fuse","axios","Container","Col","Row","InputGroup","FormControl","Pagination","Form","Button","Spinner","Card","Modal","Tooltip","OverlayTrigger","Image","fuseOptions","shouldSort","threshold","keys","maxPatternLength","location","distance","x","get","then","res","console","log","data","Home","donations","revalidateOnFocus","displayDonations","setDisplayDonations","filteredDonations","setFilteredDonations","search","setSearch","pageSize","setPageSize","page","setPage","fuse","firstPage","prevPage","nextPage","length","lastPage","Math","ceil","changePageSize","e","preventDefault","parseInt","target","value","settingFilter","showFeed","setShowFeed","handleCloseFeed","handleShowFeed"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAOC,MAAP,MAAmB,KAAnB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SACIC,SADJ,EAEIC,GAFJ,EAGIC,GAHJ,EAIIC,UAJJ,EAKIC,WALJ,EAMIC,UANJ,EAOIC,IAPJ,EAQIC,MARJ,EASIC,OATJ,EAUIC,IAVJ,EAWIC,KAXJ,EAYIC,OAZJ,EAaIC,cAbJ,EAcIC,KAdJ,QAeS,iBAfT;;;AAiBE,MAAMC,WAAW,GAAG;AAClBC,EAAAA,UAAU,EAAE,IADM;AAElBC,EAAAA,SAAS,EAAE,GAFO;AAGlBC,EAAAA,IAAI,EAAE,CAAC,OAAD,EAAU,SAAV,EAAqB,YAArB,CAHY;AAIlBC,EAAAA,gBAAgB,EAAE,EAJA;AAKlBC,EAAAA,QAAQ,EAAE,CALQ;AAMlBC,EAAAA,QAAQ,EAAE;AANQ,CAApB;AASF,MAAMC,CAAC,GAAGtB,KAAK,CAACuB,GAAN,CAAU,yBAAV,EACLC,IADK,CACAC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,CADP,CAAV;AAEAF,OAAO,CAACC,GAAR,CAAYL,CAAZ;;AAGA,MAAMO,IAAI,GAAG,MAAM;AAAA;;AAEjB,QAAM;AAAED,IAAAA,IAAI,EAAEE;AAAR,MAAsBhC,MAAM,CAAC,yBAAD,EAA4B;AAC5DiC,IAAAA,iBAAiB,EAAE;AADyC,GAA5B,CAAlC;AAIApC,EAAAA,SAAS,CAAC,MAAM;AACd+B,IAAAA,OAAO,CAACC,GAAR,CAAYG,SAAZ;AACD,GAFQ,EAEP,CAACA,SAAD,CAFO,CAAT;AAGAJ,EAAAA,OAAO,CAACC,GAAR,CAAYG,SAAZ;AAGE,QAAM,CAACE,gBAAD,EAAmBC,mBAAnB,IAA0CpC,QAAQ,CAAC,EAAD,CAAxD;AACA,QAAM,CAACqC,iBAAD,EAAoBC,oBAApB,IAA4CtC,QAAQ,CAAC,EAAD,CAA1D;AACA,QAAM,CAACuC,MAAD,EAASC,SAAT,IAAsBxC,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACyC,QAAD,EAAWC,WAAX,IAA0B1C,QAAQ,CAAC,CAAD,CAAxC;AAEA,QAAM,CAAC2C,IAAD,EAAOC,OAAP,IAAkB5C,QAAQ,CAAC,CAAD,CAAhC,CAjBe,CAkBf;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAF,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIyC,MAAM,KAAK,EAAf,EAAmB;AACjB,YAAMM,IAAI,GAAG,IAAI3C,IAAJ,CAASmC,iBAAT,EAA4BnB,WAA5B,CAAb;AACAkB,MAAAA,mBAAmB,CAACS,IAAI,CAACN,MAAL,CAAYA,MAAZ,CAAD,CAAnB;AACAK,MAAAA,OAAO,CAAC,CAAD,CAAP;AACD,KAJD,MAIO;AACLR,MAAAA,mBAAmB,CAACC,iBAAD,CAAnB;AACAO,MAAAA,OAAO,CAAC,CAAD,CAAP;AACD;AACJ,GATQ,EASN,CAACP,iBAAD,EAAoBE;AAAQ;AAA5B,GATM,CAAT;;AAUA,QAAMO,SAAS,GAAG,MAAM;AACpBF,IAAAA,OAAO,CAAC,CAAD,CAAP;AACH,GAFD;;AAGA,QAAMG,QAAQ,GAAG,MAAM;AACnB,QAAI,IAAIJ,IAAR,EAAc;AACZC,MAAAA,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;AACD;AACJ,GAJD;;AAKA,QAAMK,QAAQ,GAAG,MAAM;AACnB,QAAIb,gBAAgB,CAACc,MAAjB,GAA0BR,QAA1B,GAAqCE,IAAI,GAAGF,QAAhD,EAA0D;AACxDG,MAAAA,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;AACD;AACJ,GAJD;;AAKA,QAAMO,QAAQ,GAAG,MAAM;AAClBN,IAAAA,OAAO,CAACO,IAAI,CAACC,IAAL,CAAUjB,gBAAgB,CAACc,MAAjB,GAA0BR,QAApC,IAAgD,CAAjD,CAAP;AACJ,GAFD;;AAGA,QAAMY,cAAc,GAAIC,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AACAX,IAAAA,OAAO,CAAC,CAAD,CAAP;AACAF,IAAAA,WAAW,CAACc,QAAQ,CAACF,CAAC,CAACG,MAAF,CAAShB,QAAT,CAAkBiB,KAAnB,CAAT,CAAX;AACH,GAJD;;AAMA,QAAMC,aAAa,GAAG,MAAM;AAC1B;AACD,GAFD;;AAIA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0B7D,QAAQ,CAAC,KAAD,CAAxC;;AACA,QAAM8D,eAAe,GAAG,MAAMD,WAAW,CAAC,KAAD,CAAzC;;AACA,QAAME,cAAc,GAAG,MAAMF,WAAW,CAAC,IAAD,CAAxC;;AAGA,sBACI;AAAA,2BACI,QAAC,SAAD;AAAY,MAAA,KAAK,MAAjB;AAAkB,MAAA,SAAS,EAAC;AAAmB;;AAA/C;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AAOH,CA9ED;;GAAM7B,I;UAEwB/B,M;;;KAFxB+B,I;AAgFN,eAAeA,IAAf","sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\r\nimport useSWR from \"swr\";\r\nimport Fuse from \"fuse.js\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n    Container,\r\n    Col,\r\n    Row,\r\n    InputGroup,\r\n    FormControl,\r\n    Pagination,\r\n    Form,\r\n    Button,\r\n    Spinner,\r\n    Card,\r\n    Modal,\r\n    Tooltip,\r\n    OverlayTrigger,\r\n    Image\r\n  } from \"react-bootstrap\";\r\n\r\n  const fuseOptions = {\r\n    shouldSort: true,\r\n    threshold: 0.3,\r\n    keys: [\"titel\", \"orgName\", \"lawTypeOrg\"],\r\n    maxPatternLength: 30,\r\n    location: 0,\r\n    distance: 200,\r\n  };\r\n\r\nconst x = axios.get(\"/api/donations/allCards\")\r\n    .then(res => console.log(res.data))\r\nconsole.log(x)\r\n\r\n\r\nconst Home = () => {\r\n\r\n  const { data: donations } = useSWR(\"/api/donations/allCards\", {\r\n    revalidateOnFocus: false,\r\n  });\r\n  \r\n  useEffect(() => {\r\n    console.log(donations)\r\n  },[donations])\r\n  console.log(donations)\r\n\r\n\r\n    const [displayDonations, setDisplayDonations] = useState([]);\r\n    const [filteredDonations, setFilteredDonations] = useState([]);\r\n    const [search, setSearch] = useState(\"\");\r\n    const [pageSize, setPageSize] = useState(8);\r\n\r\n    const [page, setPage] = useState(0);\r\n    //const { data: laws } = useSWR(\"/api/laws/allMerged\", {\r\n    //  revalidateOnFocus: false,\r\n    //});\r\n\r\n    //useEffect(() => {\r\n    //    if (dummySet) {\r\n    //      setFilteredDonations(\r\n    //        getFilteredAndSortedLaws(newsfeedFilter, sorterNewsfeed, laws)\r\n    //      );\r\n    //    }\r\n    //}, [laws, sorterNewsfeed, newsfeedFilter]);\r\n    // Set correct laws to display when either laws, fitler or search changes\r\n    useEffect(() => {\r\n        if (search !== \"\") {\r\n          const fuse = new Fuse(filteredDonations, fuseOptions);\r\n          setDisplayDonations(fuse.search(search));\r\n          setPage(0);\r\n        } else {\r\n          setDisplayDonations(filteredDonations);\r\n          setPage(0);\r\n        }\r\n    }, [filteredDonations, search, /*sorterNewsfeed*/]);\r\n    const firstPage = () => {\r\n        setPage(0);\r\n    };\r\n    const prevPage = () => {\r\n        if (0 < page) {\r\n          setPage(page - 1);\r\n        }\r\n    };\r\n    const nextPage = () => {\r\n        if (displayDonations.length - pageSize > page * pageSize) {\r\n          setPage(page + 1);\r\n        }\r\n    };\r\n    const lastPage = () => {\r\n         setPage(Math.ceil(displayDonations.length / pageSize) - 1);\r\n    };\r\n    const changePageSize = (e) => {\r\n        e.preventDefault();\r\n        setPage(0);\r\n        setPageSize(parseInt(e.target.pageSize.value));\r\n    };\r\n\r\n    const settingFilter = () => {\r\n      return\r\n    };\r\n\r\n    const [showFeed, setShowFeed] = useState(false);\r\n    const handleCloseFeed = () => setShowFeed(false);\r\n    const handleShowFeed = () => setShowFeed(true);\r\n\r\n\r\n    return (\r\n        <>\r\n            <Container  fluid className=\"text-center pt-3\" /*style={{backgroundColor: \"#e4d6ff\"}}*/>\r\n              \r\n            </Container>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}